"use strict";var currentImgIndex,nav=document.querySelector(".nav"),sideBarOpenBtn=document.querySelector(".nav__burger"),sideBarClouseBtn=document.querySelector(".sidebar__btn"),sidebar=document.querySelector(".sidebar"),skills=document.querySelector(".about-me__skills"),skillsBtns=document.querySelectorAll(".about-me__skills__btn"),gallery=document.querySelector(".gallery"),galleryItem=document.querySelectorAll(".gallery__list__item img"),galleryPopup=document.querySelector(".gallery__popup"),galleryPopupImg=document.querySelector(".gallery__popup__img"),arrowLeft=document.querySelector(".gallery__popup__arrow-left"),arrowRight=document.querySelector(".gallery__popup__arrow-right"),footerYear=document.querySelector(".footer__year"),offersOptions=document.querySelectorAll(".offers__option"),sideBarOpen=function(){sidebar.classList.add("sidebar--active")},sideBarClouse=function(){sidebar.classList.remove("sidebar--active")},chceckBtns=function(e){e.target.classList.value,sideBarClouse()},scrollSpyNavbar=function(){0!==window.scrollY?(nav.classList.remove("hidden"),nav.classList.add("shadow")):(nav.classList.remove("shadow"),nav.classList.add("hidden"))},options={rootMargin:"0px 0px -300px 0px",threshold:0},animation=function(e,t){e.forEach(function(e){e.isIntersecting&&(e.target.classList.add("show"),t.unobserve(e.target))})},observer=new IntersectionObserver(animation,options);function showSkill(){this.nextElementSibling.classList.contains("about-me--active")?this.nextElementSibling.classList.remove("about-me--active"):(clouseSkills(),this.nextElementSibling.classList.toggle("about-me--active"))}offersOptions.forEach(function(e){observer.observe(e)});var clouseSkills=function(){document.querySelectorAll(".about-me__skills__text").forEach(function(e){return e.classList.remove("about-me--active")})},clickOutsideSkills=function(e){e.target.classList.contains("about-me__skills__btn")||e.target.classList.contains("about-me__skills__text")||clouseSkills()},clousePopup=function(){galleryPopup.classList.remove("gallery__popup--show"),galleryItem.forEach(function(e){e.setAttribute("tabindex",0)})},nextImage=(galleryItem.forEach(function(e,t){function r(e){galleryPopup.classList.add("gallery__popup--show"),galleryPopupImg.src=e.target.src,currentImgIndex=t,galleryItem.forEach(function(e){e.setAttribute("tabindex",-1)})}e.addEventListener("click",r),e.addEventListener("keydown",function(e){"Enter"!==e.code&&13!==e.keyCode||r(e)})}),function(){currentImgIndex===galleryItem.length-1?currentImgIndex=0:currentImgIndex++,galleryPopupImg.src=galleryItem[currentImgIndex].src}),previousImage=function(){0===currentImgIndex?currentImgIndex=galleryItem.length-1:currentImgIndex--,galleryPopupImg.src=galleryItem[currentImgIndex].src},currentYear=(gallery.addEventListener("click",function(e){"gallery__popup gallery__popup--show"!==e.target.classList.value&&"gallery__popup__btn"!==e.target.classList.value&&"fa-solid fa-x"!==e.target.classList.value||clousePopup()}),arrowRight.addEventListener("click",nextImage),arrowLeft.addEventListener("click",previousImage),document.addEventListener("keydown",function(e){galleryPopup.classList.contains("gallery__popup--show")&&("ArrowRight"===e.code||39===e.keyCode?nextImage():"ArrowLeft"===e.code||37===e.keyCode?previousImage():"Escape"!==e.code&&27!==e.keyCode||clousePopup())}),function(){var e=(new Date).getFullYear();footerYear.innerText=e});currentYear(),window.addEventListener("scroll",scrollSpyNavbar),sideBarOpenBtn.addEventListener("click",sideBarOpen),sidebar.addEventListener("click",chceckBtns),skillsBtns.forEach(function(e){return e.addEventListener("click",showSkill)}),window.addEventListener("click",clickOutsideSkills);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsib2ZmZXJzT3B0aW9ucyIsIm5hdiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInNpZGVCYXJPcGVuQnRuIiwic2lkZUJhckNsb3VzZUJ0biIsInNraWxscyIsInNraWxsc0J0bnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZ2FsbGVyeVBvcHVwIiwiZ2FsbGVyeVBvcHVwSW1nIiwiYXJyb3dMZWZ0IiwiYXJyb3dSaWdodCIsImN1cnJlbnRJbWdJbmRleCIsImZvb3RlclllYXIiLCJzaWRlYmFyIiwiYWRkIiwiY2hjZWNrQnRucyIsInRhcmdldCIsImNsYXNzTGlzdCIsInZhbHVlIiwic2lkZUJhckNsb3VzZSIsInJlbW92ZSIsImUiLCJzY3JvbGxTcHlOYXZiYXIiLCJ3aW5kb3ciLCJzY3JvbGxZIiwicm9vdE1hcmdpbiIsInRocmVzaG9sZCIsIm9ic2VydmVyIiwidW5vYnNlcnZlIiwiZm9yRWFjaCIsIm9ic2VydmUiLCJvcHRpb24iLCJlbnRyeSIsImlzSW50ZXJzZWN0aW5nIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJhbmltYXRpb24iLCJvcHRpb25zIiwic2hvd1NraWxsIiwiY2xpY2tPdXRzaWRlU2tpbGxzIiwiY29udGFpbnMiLCJjbG91c2VTa2lsbHMiLCJ0b2dnbGUiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJjbG91c2VQb3B1cCIsImdhbGxlcnlJdGVtIiwic2V0QXR0cmlidXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIml0ZW0iLCJlbCIsInNob3dQb3B1cCIsInNyYyIsImluZGV4IiwicHJldmlvdXNJbWFnZSIsImxlbmd0aCIsImtleUNvZGUiLCJnYWxsZXJ5IiwibmV4dEltYWdlIiwiY3VycmVudFllYXIiLCJ5ZWFyIiwiRGF0ZSIsImNvZGUiLCJnZXRGdWxsWWVhciIsImlubmVyVGV4dCIsInNpZGVCYXJPcGVuIiwiYnRuIl0sIm1hcHBpbmdzIjoiYUFDQSxJQW1CTUEsZ0JBbkJBQyxJQUFNQyxTQUFTQyxjQUFjLE1BQU0sRUFBbkNGLGVBQWVFLFNBQWFBLGNBQVEsY0FBQSxFQUNwQ0MsaUJBQWlCRixTQUFTQyxjQUFjLGVBQWUsRUFDdkRFLFFBQUFBLFNBQW1CSCxjQUFTQyxVQUFjLEVBRzFDRyxPQUFTSixTQUFTQyxjQUFjLG1CQUFvQixFQUNwREksV0FBYUwsU0FBU00saUJBQWlCLHdCQUF5QixFQUtoRUMsUUFBWVAsU0FBR0EsY0FBU0MsVUFBYyxFQUN0Q08sWUFBZVIsU0FBR0EsaUJBQXVCLDBCQUF1QixFQUNoRVMsYUFBWVQsU0FBU0MsY0FBYyxpQkFBQSxFQUNuQ1MsZ0JBQWFWLFNBQVNDLGNBQWMsc0JBQUEsRUFDdENVLFVBQUFBLFNBQWVWLGNBQUEsNkJBQUEsRUFFYlcsV0FBYVosU0FBU0MsY0FBYyw4QkFBZ0IsRUFNMURXLFdBQUFaLFNBQUFDLGNBQUEsZUFBQSxFQUVJWSxjQUFrQkMsU0FBSVIsaUJBQWtCLGlCQUFBLEVBS3RDUyxZQUFhLFdBQ2ZGLFFBQU1HLFVBQU9DLElBQVVDLGlCQUFVLENBTHJDLEVBT0lDLGNBQUEsV0FDSE4sUUFBQUksVUFBQUcsT0FBQSxpQkFBQSxDQUxELEVBU0FMLFdBQUEsU0FBQU0sR0FDTUMsRUFBQUEsT0FBQUEsVUFBa0JKLE1BQ2hCSyxjQUFjLENBTnRCLEVBYUNELGdCQUFBLFdBUDBCLElBQW5CQyxPQUFPQyxTQVNmekIsSUFBQWtCLFVBQUFHLE9BQUEsUUFBQSxFQVBRckIsSUFBSWtCLFVBQVVILElBQUksUUFBUSxJQVU5QlcsSUFBVVIsVUFBRUcsT0FBQSxRQUFvQixFQUNoQ00sSUFBU1QsVUFBRUgsSUFBQSxRQUFBLEVBR2YsRUFJWWEsUUFBU0MsQ0FDYkgsV0FBQSxxQkFDRkMsVUFBQSxDQUNOLEVBR0E1QixVQUFjK0IsU0FBQUEsRUFBUUYsR0FDbEJBLEVBQVNHLFFBQVFDLFNBQUFBLEdBQ25CQyxFQUFBQyxpQkFUVUQsRUFBTWhCLE9BQU9DLFVBQVVILElBQUksTUFBTSxFQWM3Q2EsRUFBQUMsVUFBQUksRUFBQWhCLE1BQUEsRUFFQSxDQUFBLENBWkEsRUFlS1csU0FBTSxJQUFBTyxxQkFBQUMsVUFBQUMsT0FBQSxFQVFYLFNBQUNDLFlBQ0tDLEtBQUFBLG1CQUFxQnJCLFVBQXJCcUIsU0FBQUEsa0JBQTRCLEVBQ3hCdEIsS0FBQUEsbUJBQWlCdUIsVUFBU25CLE9BQUEsa0JBQzFCSixHQUNLd0IsYUFBQSxFQUNYQSxLQUFBQSxtQkFBY3ZCLFVBQUF3QixPQUFBLGtCQUFBLEVBVGxCLENBaEJBM0MsY0FhUTBDLFFBQWMsU0FBQVQsR0FDZEosU0FBS2UsUUFBQUEsQ0FBa0IsQ0FaL0IsQ0FBQyxFQThCRCxJQUFBRixhQUFBLFdBZDRCeEMsU0FBU00saUJBQWlCLHlCQUF5QixFQWdCM0R1QixRQUFkYyxTQUFBQSxHQUFBQSxPQUFBQSxFQUFvQjFCLFVBQUFHLE9BQUEsa0JBQUEsQ0FBQSxDQUFBLENBZDFCLEVBZ0JJd0IsbUJBQW9CLFNBQUF2QixHQUNid0IsRUFBQUEsT0FBQUEsVUFBYU4sU0FBYyx1QkFBQSxHQUNoQ2xCLEVBQUFMLE9BQUFDLFVBQUFzQixTQUFBLHdCQUFBLEdBSU5LLGFBQVlmLENBaEJaLEVBeUJRYyxZQUFDRyxXQUNMQyxhQUFLRCxVQUFpQjFCLE9BQVMsc0JBQVMsRUFDcEN3QixZQUFVZixRQUFLLFNBQUFtQixHQUNYQyxFQUFBQSxhQUFZLFdBQUEsQ0FBQSxDQUNoQixDQUFBLENBaEJSLEVBdUNRTixXQXBDUkMsWUFrQlFqQyxRQUFBQSxTQUFlb0MsRUFBS0gsR0FDRixTQUFsQmpDLEVBQW1CVSxHQUN0QmQsYUFBTVUsVUFBQUgsSUFBQSxzQkFBQSxFQUNISCxnQkFBaUJ1QyxJQUFBN0IsRUFBQUwsT0FBQWtDLElBQ3JCdkMsZ0JBQUF3QyxFQUNBM0MsWUFBZ0IwQyxRQUFNTixTQUFBQSxHQUN6QkksRUFBQUgsYUFBQSxXQUFBLENBQUEsQ0FBQSxDQUNLTyxDQUFBQSxDQUNGLENBQ0l6QyxFQUFBQSxpQkFBa0JpQyxRQUFZUyxDQUFVLEVBQzNDTixFQUFNRCxpQkFBQSxVQUFBLFNBQUF6QixHQUNjLFVBQWpCVixFQUFBQSxNQUFpQixLQUFBVSxFQUFBaUMsU0FDckJMLEVBQUE1QixDQUFBLENBRUgsQ0FBQSxDQUVEa0MsQ0FBQUEsRUFFcUIsV0FDakI1QyxrQkFBQWlDLFlBQUFTLE9BQUEsRUFDRjFDLGdCQUFBLEVBRUZGLGVBQVVxQyxHQUlOdEMsZ0JBQWlCUyxJQUFBQSxZQUFtQk4saUJBQUF1QyxHQXBCeEMsR0FzQllNLGNBQVcsV0FDUSxJQUF0QjdDLGdCQUNHeUMsZ0JBQWVSLFlBQUFTLE9BQUEsRUFFZlYsZUFBYSxHQUVyQm5DLGdCQUFBMEMsSUFBQU4sWUFBQWpDLGlCQUFBdUMsR0FDSixFQU1NTyxhQURORixRQUFBVCxpQkFBQSxRQUFBLFNBQUF6QixHQUNNb0Msd0NBQUFBLEVBQUFBLE9BQVd4QyxVQUFYd0MsT0FBb0Isd0JBQUFwQyxFQUFBTCxPQUFBQyxVQUFBQyxPQUFBLGtCQUFBRyxFQUFBTCxPQUFBQyxVQUFBQyxPQUNoQndDLFlBQVlDLENBRXRCLENBQUMsRUFDREYsV0FBV1gsaUJBQUUsUUFBQVUsU0FBQSxFQUdiakMsVUFBT3VCLGlCQUFpQixRQUFVeEIsYUFBZSxFQUtqRGpCLFNBQUFBLGlCQUFtQixVQUFHLFNBQUFnQixHQUFBZCxhQUFRdUMsVUFBaUJQLFNBQVNGLHNCQUFVLElBQUMsZUFBQWhCLEVBQUF1QyxNQUFBLEtBQUF2QyxFQUFBaUMsUUFDNURSLFVBQUFBLEVBekJ3QixjQUFYekIsRUFBRXVDLE1BQXNDLEtBQWR2QyxFQUFFaUMsUUFDcENGLGNBQWEsRUFDSyxXQUFYL0IsRUFBRXVDLE1BQW1DLEtBQWR2QyxFQUFFaUMsU0FDaENYLFlBQVcsRUFHdkIsQ0FBQyxFQU1tQixXQUNoQixJQUFNZSxHQUFRLElBQUlDLE1BQU1FLFlBQVcsRUFDbkNqRCxXQUFXa0QsVUFBWUosQ0FDM0IsR0FDQUQsWUFBVyxFQUdYbEMsT0FBT3VCLGlCQUFpQixTQUFVeEIsZUFBZSxFQUVqRHBCLGVBQWU0QyxpQkFBaUIsUUFBU2lCLFdBQVcsRUFDcERsRCxRQUFRaUMsaUJBQWlCLFFBQVMvQixVQUFVLEVBRTVDVixXQUFXd0IsUUFBUSxTQUFBbUMsR0FBRyxPQUFJQSxFQUFJbEIsaUJBQWlCLFFBQVNULFNBQVMsQ0FBQyxDQUFBLEVBQ2xFZCxPQUFPdUIsaUJBQWlCLFFBQVNSLGtCQUFrQiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdicpXG5jb25zdCBzaWRlQmFyT3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZfX2J1cmdlcicpXG5jb25zdCBzaWRlQmFyQ2xvdXNlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGViYXJfX2J0bicpXG5jb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGViYXInKVxuXG5jb25zdCBza2lsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWJvdXQtbWVfX3NraWxscycpXG5jb25zdCBza2lsbHNCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFib3V0LW1lX19za2lsbHNfX2J0bicpXG5cblxuY29uc3QgZ2FsbGVyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5JylcbmNvbnN0IGdhbGxlcnlJdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmdhbGxlcnlfX2xpc3RfX2l0ZW0gaW1nJylcbmNvbnN0IGdhbGxlcnlQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19wb3B1cCcpXG5jb25zdCBnYWxsZXJ5UG9wdXBJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fcG9wdXBfX2ltZycpXG5jb25zdCBhcnJvd0xlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fcG9wdXBfX2Fycm93LWxlZnQnKVxuY29uc3QgYXJyb3dSaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19wb3B1cF9fYXJyb3ctcmlnaHQnKVxubGV0IGN1cnJlbnRJbWdJbmRleDtcblxuY29uc3QgZm9vdGVyWWVhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXJfX3llYXInKVxuXG5jb25zdCBvZmZlcnNPcHRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm9mZmVyc19fb3B0aW9uJylcblxuXG5cbi8vIHNpZGViYXJcbmNvbnN0IHNpZGVCYXJPcGVuID0gKCkgPT4ge1xuICAgIHNpZGViYXIuY2xhc3NMaXN0LmFkZCgnc2lkZWJhci0tYWN0aXZlJylcbn1cbmNvbnN0IHNpZGVCYXJDbG91c2UgPSAoKSA9PiB7XG4gICAgc2lkZWJhci5jbGFzc0xpc3QucmVtb3ZlKCdzaWRlYmFyLS1hY3RpdmUnKVxufVxuY29uc3QgY2hjZWNrQnRucyA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZSA9PT0gJ3NpZGViYXJfX2J0bicgfHwgJ3NpZGViYXJfX2l0ZW0nKSB7XG4gICAgICAgIHNpZGVCYXJDbG91c2UoKVxuICAgIH1cbn1cblxuXG5cbi8vIHNjcm9sbHNweSBuYXYgc2hhZG93XG5jb25zdCBzY3JvbGxTcHlOYXZiYXIgPSAoKSA9PiB7XG4gICAgaWYgKHdpbmRvdy5zY3JvbGxZICE9PSAwKSB7XG4gICAgICAgIG5hdi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxuICAgICAgICBuYXYuY2xhc3NMaXN0LmFkZCgnc2hhZG93JylcbiAgICB9IGVsc2Uge1xuICAgICAgICBuYXYuY2xhc3NMaXN0LnJlbW92ZSgnc2hhZG93JylcbiAgICAgICAgbmF2LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXG4gICAgfVxufVxuXG4vLyBJbnRlcnNlY3Rpb24gT2JzZXJ2ZXIgb2ZmZXJzXG5cbmNvbnN0IG9wdGlvbnMgPSB7XG4gICAgcm9vdE1hcmdpbjogJzBweCAwcHggLTMwMHB4IDBweCcsXG4gICAgdGhyZXNob2xkOiAwXG59XG5cbmNvbnN0IGFuaW1hdGlvbiA9IChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xuICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKVxuICAgICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJ5LnRhcmdldClcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbmNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGFuaW1hdGlvbiwgb3B0aW9ucylcbm9mZmVyc09wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4ge1xuICAgIG9ic2VydmVyLm9ic2VydmUob3B0aW9uKVxufSlcblxuXG5cblxuLy8gYWJvdXQtbWUgYWNvcmRpb25cblxuZnVuY3Rpb24gc2hvd1NraWxsKCkge1xuICAgIGlmICh0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoJ2Fib3V0LW1lLS1hY3RpdmUnKSkge1xuICAgICAgICB0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QucmVtb3ZlKCdhYm91dC1tZS0tYWN0aXZlJylcbiAgICB9IGVsc2Uge1xuICAgICAgICBjbG91c2VTa2lsbHMoKVxuICAgICAgICB0aGlzLm5leHRFbGVtZW50U2libGluZy5jbGFzc0xpc3QudG9nZ2xlKCdhYm91dC1tZS0tYWN0aXZlJylcbiAgICB9XG59XG5jb25zdCBjbG91c2VTa2lsbHMgPSAoKSA9PiB7XG4gICAgY29uc3QgYWxsQWN0aXZlU2tpbGxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFib3V0LW1lX19za2lsbHNfX3RleHQnKVxuICAgIGFsbEFjdGl2ZVNraWxscy5mb3JFYWNoKHNraWxsID0+IHNraWxsLmNsYXNzTGlzdC5yZW1vdmUoJ2Fib3V0LW1lLS1hY3RpdmUnKSlcbn1cbmNvbnN0IGNsaWNrT3V0c2lkZVNraWxscyA9IChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYWJvdXQtbWVfX3NraWxsc19fYnRuJykgfHxcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhYm91dC1tZV9fc2tpbGxzX190ZXh0JylcbiAgICApIHsgcmV0dXJuIH1cbiAgICBjbG91c2VTa2lsbHMoKVxufVxuXG5cblxuXG5cbi8vIEdBTExFUllcblxuY29uc3QgY2xvdXNlUG9wdXAgPSAoKSA9PiB7XG4gICAgZ2FsbGVyeVBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ2dhbGxlcnlfX3BvcHVwLS1zaG93JylcbiAgICBnYWxsZXJ5SXRlbS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgMClcbiAgICB9KVxufVxuXG5cbmdhbGxlcnlJdGVtLmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgY29uc3Qgc2hvd1BvcHVwID0gKGUpID0+IHtcbiAgICAgICAgZ2FsbGVyeVBvcHVwLmNsYXNzTGlzdC5hZGQoJ2dhbGxlcnlfX3BvcHVwLS1zaG93JylcbiAgICAgICAgZ2FsbGVyeVBvcHVwSW1nLnNyYyA9IGUudGFyZ2V0LnNyY1xuICAgICAgICBjdXJyZW50SW1nSW5kZXggPSBpbmRleFxuICAgICAgICBnYWxsZXJ5SXRlbS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIC0xKVxuICAgICAgICB9KVxuICAgIH1cbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd1BvcHVwKVxuICAgIGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICAgIGlmIChlLmNvZGUgPT09ICdFbnRlcicgfHwgZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICAgICAgc2hvd1BvcHVwKGUpXG4gICAgICAgIH1cbiAgICB9KVxufSlcblxuY29uc3QgbmV4dEltYWdlID0gKCkgPT4ge1xuICAgIGlmIChjdXJyZW50SW1nSW5kZXggPT09IGdhbGxlcnlJdGVtLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgY3VycmVudEltZ0luZGV4ID0gMFxuICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRJbWdJbmRleCsrXG4gICAgfVxuICAgIGdhbGxlcnlQb3B1cEltZy5zcmMgPSBnYWxsZXJ5SXRlbVtjdXJyZW50SW1nSW5kZXhdLnNyY1xufVxuY29uc3QgcHJldmlvdXNJbWFnZSA9ICgpID0+IHtcbiAgICBpZiAoY3VycmVudEltZ0luZGV4ID09PSAwKSB7XG4gICAgICAgIGN1cnJlbnRJbWdJbmRleCA9IGdhbGxlcnlJdGVtLmxlbmd0aCAtIDFcbiAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50SW1nSW5kZXgtLVxuICAgIH1cbiAgICBnYWxsZXJ5UG9wdXBJbWcuc3JjID0gZ2FsbGVyeUl0ZW1bY3VycmVudEltZ0luZGV4XS5zcmNcbn1cblxuZ2FsbGVyeS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZSA9PT0gJ2dhbGxlcnlfX3BvcHVwIGdhbGxlcnlfX3BvcHVwLS1zaG93JyB8fCBlLnRhcmdldC5jbGFzc0xpc3QudmFsdWUgPT09ICdnYWxsZXJ5X19wb3B1cF9fYnRuJyB8fCBlLnRhcmdldC5jbGFzc0xpc3QudmFsdWUgPT09ICdmYS1zb2xpZCBmYS14Jykge1xuICAgICAgICBjbG91c2VQb3B1cCgpXG4gICAgfVxufSlcbmFycm93UmlnaHQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBuZXh0SW1hZ2UpXG5hcnJvd0xlZnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwcmV2aW91c0ltYWdlKVxuXG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgIGlmIChnYWxsZXJ5UG9wdXAuY2xhc3NMaXN0LmNvbnRhaW5zKCdnYWxsZXJ5X19wb3B1cC0tc2hvdycpKSB7XG4gICAgICAgIGlmIChlLmNvZGUgPT09IFwiQXJyb3dSaWdodFwiIHx8IGUua2V5Q29kZSA9PT0gMzkpIHtcbiAgICAgICAgICAgIG5leHRJbWFnZSgpXG4gICAgICAgIH0gZWxzZSBpZiAoKGUuY29kZSA9PT0gXCJBcnJvd0xlZnRcIiB8fCBlLmtleUNvZGUgPT09IDM3KSkge1xuICAgICAgICAgICAgcHJldmlvdXNJbWFnZSgpXG4gICAgICAgIH0gZWxzZSBpZiAoZS5jb2RlID09PSAnRXNjYXBlJyB8fCBlLmtleUNvZGUgPT09IDI3KSB7XG4gICAgICAgICAgICBjbG91c2VQb3B1cCgpXG4gICAgICAgIH1cbiAgICB9XG59KVxuXG5cblxuXG4vLyBmb290ZXIgeWVhclxuY29uc3QgY3VycmVudFllYXIgPSAoKSA9PiB7XG4gICAgY29uc3QgeWVhciA9IChuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKVxuICAgIGZvb3RlclllYXIuaW5uZXJUZXh0ID0geWVhclxufVxuY3VycmVudFllYXIoKVxuXG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxTcHlOYXZiYXIpXG5cbnNpZGVCYXJPcGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2lkZUJhck9wZW4pXG5zaWRlYmFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hjZWNrQnRucylcblxuc2tpbGxzQnRucy5mb3JFYWNoKGJ0biA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93U2tpbGwpKVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xpY2tPdXRzaWRlU2tpbGxzKVxuXG5cblxuIl19
